<VirtualHost *:80>
  ServerName localhost
  DocumentRoot /var/www/html
  
  LogFormat "%{%Y-%m-%d %H:%M:%S}t.000 %{DEPLOY_DATETIME}e %P %r %>s %u \"%{User-Agent}i\" %D %{X-Forwarded-For}i" custom
  CustomLog logs/access.log custom

  <Directory /var/www/html>
     AllowOverride All
  </Directory>
  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined
  
  <LocationMatch "/(auth|phpmyadmin|index.html)">
    <RequireAny>
      AuthType Basic
      AuthUserFile /var/www/html/.htpasswd
      AuthGroupFile /dev/null
      AuthName "Enter"
      Require valid-user
    </RequireAny>
  </LocationMatch>
</VirtualHost>
